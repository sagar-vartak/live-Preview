!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ContentstackLivePreview=t():e.ContentstackLivePreview=t()}(this,(function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ContentstackLivePreview=void 0;var o=i(n(1)),l=function(){function e(){}return e.livePreview=null,e.userConfig=null,e.subscribers={},e.init=function(t){if("undefined"!=typeof window)return e.livePreview||(e.livePreview=new o.default(t),e.livePreview.setOnChangeCallback(e.publish)),Promise.resolve(e.livePreview);e.userConfig=t},e.publish=function(){Object.values(e.subscribers).forEach((function(e){e()}))},e.subscribe=function(t){e.subscribers[1e4*Math.random()]=t},e.onEntryChange=function(t){e.userConfig&&(e.livePreview=new o.default(e.userConfig),e.livePreview.setOnChangeCallback(e.publish),e.userConfig=null),e.subscribe(t),t()},e}();t.ContentstackLivePreview=l,t.default=l,e.exports=l},function(e,t,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=n(2),r=o(n(3)),a=n(4),d=function(){function e(e){var t=this;void 0===e&&(e={}),this.config={shouldReload:!0,enable:!0,cleanCslpOnProduction:!0,stackDetails:{apiKey:"",environment:"",contentTypeUid:"",entryUid:""},clientUrlParams:{protocol:"https",host:"localhost",port:8080,url:"https://localhost:8080"},stackSdk:{config:{live_preview:{}},headers:{api_key:""},environment:""},onChange:function(){}},this.tooltip=null,this.currentElementBesideTooltip=null,this.tooltipChild={singular:null,multiple:null},this.tooltipCurrentChild="singular",this._entry={},this.entry={get:function(e){return l.getEntries(e,t._entry)},toJSON:function(){return t._entry}},this._addEditStyleOnHover=function(e){for(var n,i,o,l=!0,r=0,a=e.composedPath();r<a.length;r++){var d=a[r];if("BODY"===d.nodeName)break;if("function"==typeof(null==d?void 0:d.getAttribute)){var s=d.getAttribute("data-cslp");if(l&&s){var c=s.split("."),u=c[0],p=c[1];(window.location===window.parent.location||u===t.config.stackDetails.contentTypeUid&&p===t.config.stackDetails.entryUid)&&(t.currentElementBesideTooltip&&t.currentElementBesideTooltip.classList.remove("cslp-edit-mode"),d.classList.add("cslp-edit-mode"),t.currentElementBesideTooltip=d,t._updateTooltipPosition()&&(null===(n=t.tooltip)||void 0===n||n.setAttribute("current-data-cslp",s),null===(i=t.tooltip)||void 0===i||i.setAttribute("current-href",null!==(o=d.getAttribute("href"))&&void 0!==o?o:"")),l=!1)}else l||d.classList.remove("cslp-edit-mode")}}},this.scrollHandler=function(e){if(t.tooltip){var n=t.tooltip.getAttribute("current-data-cslp");if(n){var i=n.split("."),o=i[0],l=i[1],r=i[2],a=i.slice(3);if(window.location!==window.parent.location)o===t.config.stackDetails.contentTypeUid&&l===t.config.stackDetails.entryUid&&window.parent.postMessage({from:"live-preview",type:"scroll",data:{field:a.join(".")}},"*");else{var d=""+(String(t.config.clientUrlParams.protocol)+"://")+String(t.config.clientUrlParams.host)+(":"+String(t.config.clientUrlParams.port))+"/#!/stack/"+t.config.stackDetails.apiKey+"/content-type/"+o+"/"+(null!=r?r:"en-us")+"/entry/"+l+"/edit?preview-url="+window.location.origin+"&preview-field="+a.join(".");window.open(d,"_blank")}}}},this.linkClickHandler=function(e){if(t.tooltip){var n=t.tooltip.getAttribute("current-href");n&&(window.location.href=n)}},this._handleUserChange=function(e){t.config.stackSdk.config.live_preview=i(i({},t.config.stackSdk.config.live_preview),e),t.config.onChange()},this.setOnChangeCallback=function(e){t.config.onChange=e},this._updateBody=function(e){var n=(new DOMParser).parseFromString(e,"text/html");r.default(document.body,n.body),t._createCslpTooltip()},this._resolveIncomingMessage=function(e){if("object"==typeof e.data){var n=e.data,i=n.type,o=n.from,l=n.data;if("live-preview"===o)switch(i){case"client-data-send":if(t.config.shouldReload){var r=l.body;r&&t._updateBody(r)}else t._handleUserChange(l);break;case"init-ack":var a=l.contentTypeUid,d=l.entryUid;t.config.stackDetails.contentTypeUid=a,t.config.stackDetails.entryUid=d;break;case"history":switch(l.type){case"forward":window.history.forward();break;case"backward":window.history.back();break;case"reload":window.history.go()}}}},this._createCslpTooltip=function(){if(!document.getElementById("cslp-tooltip")){var e=document.createElement("button");e.classList.add("cslp-tooltip"),e.id="cslp-tooltip",window.document.body.insertAdjacentElement("beforeend",e),t.tooltipChild.singular=l.createSingularEditButton(t.scrollHandler),t.tooltipChild.multiple=l.createMultipleEditButton(t.scrollHandler,t.linkClickHandler),e.innerHTML="",e.appendChild(t.tooltipChild.singular),t.tooltip=e}t._updateTooltipPosition()},this._requestDataSync=function(){t._handleUserChange({hash:"init"}),t._createCslpTooltip(),window.parent.postMessage({from:"live-preview",type:"init",data:{config:{shouldReload:t.config.shouldReload,href:window.location.href}}},"*"),t.config.shouldReload||setInterval((function(){window.parent.postMessage({from:"live-preview",type:"check-entry-page",data:{href:window.location.href}},"*")}),1500)},this._updateTooltipPosition=function(){var e;if(!t.currentElementBesideTooltip||!t.tooltip)return!1;var n=t.currentElementBesideTooltip.getBoundingClientRect(),i=null===(e=t.tooltip.parentElement)||void 0===e?void 0:e.getBoundingClientRect();if(n&&i){var o=n.top-40,l=n.left-5;return o<0&&(o=n.top<0?n.top:0),t.tooltip.style.top=o+"px",t.tooltip.style.zIndex=t.currentElementBesideTooltip.style.zIndex||"200",t.tooltip.style.left=l+"px",t.tooltipChild.singular&&t.tooltipChild.multiple&&(t.currentElementBesideTooltip.hasAttribute("href")?"multiple"!==t.tooltipCurrentChild&&(t.tooltip.innerHTML="",t.tooltip.appendChild(t.tooltipChild.multiple),t.tooltipCurrentChild="multiple"):"singular"!==t.tooltipCurrentChild&&(t.tooltip.innerHTML="",t.tooltip.appendChild(t.tooltipChild.singular),t.tooltipCurrentChild="singular")),!0}return!1},a.handleInitData(e,this.config),this.config.enable?(void 0!==typeof document&&"complete"===document.readyState?this._requestDataSync():window.addEventListener("load",this._requestDataSync),window.addEventListener("message",this._resolveIncomingMessage),window.addEventListener("scroll",this._updateTooltipPosition),window.addEventListener("mouseover",this._addEditStyleOnHover)):this.config.cleanCslpOnProduction&&this._removeDataCslp()}return e.prototype._removeDataCslp=function(){document.querySelectorAll("[data-cslp]").forEach((function(e){e.removeAttribute("data-cslp")}))},e}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createMultipleEditButton=t.createSingularEditButton=t.tooltipMultipleInnerHtml=t.tooltipSingularInnerHtml=t.hasWindow=t.getEntries=t.bindEvent=void 0,t.bindEvent=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},t.getEntries=function(e,t){for(var n=t,i=0,o=e.split(".");i<o.length;i++){var l=o[i];if(void 0===n)break;n=n[l]}return n},t.hasWindow=function(){return"undefined"!=typeof window},t.tooltipSingularInnerHtml='<div class="singular edit-button">\n    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <path d="M8.1 3.5L0.3 11.3C0.1 11.5 0 11.7 0 12V15C0 15.6 0.4 16 1 16H4C4.3 16 4.5 15.9 4.7 15.7L12.5 7.9L8.1 3.5Z" fill="#718096"></path>\n      <path d="M15.7 3.3L12.7 0.3C12.3 -0.1 11.7 -0.1 11.3 0.3L9.5 2.1L13.9 6.5L15.7 4.7C16.1 4.3 16.1 3.7 15.7 3.3Z" fill="#718096"></path>\n    </svg>Edit\n  </div>',t.tooltipMultipleInnerHtml='<div class="edit-button" title="edit">\n    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <path d="M8.1 3.5L0.3 11.3C0.1 11.5 0 11.7 0 12V15C0 15.6 0.4 16 1 16H4C4.3 16 4.5 15.9 4.7 15.7L12.5 7.9L8.1 3.5Z" fill="#718096"></path>\n      <path d="M15.7 3.3L12.7 0.3C12.3 -0.1 11.7 -0.1 11.3 0.3L9.5 2.1L13.9 6.5L15.7 4.7C16.1 4.3 16.1 3.7 15.7 3.3Z" fill="#718096"></path>\n    </svg>\n  </div>\n  <div title="click element" class="external-link-button">\n    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <path d="M2.66654 2.66758H13.3332V13.3342H6.66654V16.0009H13.3332C14.0405 16.0009 14.7187 15.72 15.2188 15.2199C15.7189 14.7198 15.9999 14.0415 15.9999 13.3342V2.66758C15.9999 1.96034 15.7189 1.28206 15.2188 0.781964C14.7187 0.281867 14.0405 0.000915527 13.3332 0.000915527H2.66654C1.9593 0.000915527 1.28102 0.281867 0.780927 0.781964C0.280829 1.28206 -0.00012207 1.96034 -0.00012207 2.66758V9.33425H2.66654V2.66758Z" fill="#718096" />\n      <path d="M6.94263 7.05734L0.999958 13L2.88529 14.8853L8.82796 8.94267L10.8853 11V5.00001H4.88529L6.94263 7.05734Z" fill="#718096" />\n    </svg>\n  </div>';t.createSingularEditButton=function(e){var t=document.createElement("div");return t.classList.add("cslp-tooltip-child","singular"),t.innerHTML='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <path d="M8.1 3.5L0.3 11.3C0.1 11.5 0 11.7 0 12V15C0 15.6 0.4 16 1 16H4C4.3 16 4.5 15.9 4.7 15.7L12.5 7.9L8.1 3.5Z" fill="#718096"></path>\n      <path d="M15.7 3.3L12.7 0.3C12.3 -0.1 11.7 -0.1 11.3 0.3L9.5 2.1L13.9 6.5L15.7 4.7C16.1 4.3 16.1 3.7 15.7 3.3Z" fill="#718096"></path>\n    </svg>Edit',t.addEventListener("click",e),t};t.createMultipleEditButton=function(e,t){var n=document.createElement("div");n.classList.add("cslp-tooltip-child"),n.setAttribute("data-title","Edit"),n.innerHTML=' <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <path d="M8.1 3.5L0.3 11.3C0.1 11.5 0 11.7 0 12V15C0 15.6 0.4 16 1 16H4C4.3 16 4.5 15.9 4.7 15.7L12.5 7.9L8.1 3.5Z" fill="#718096"></path>\n      <path d="M15.7 3.3L12.7 0.3C12.3 -0.1 11.7 -0.1 11.3 0.3L9.5 2.1L13.9 6.5L15.7 4.7C16.1 4.3 16.1 3.7 15.7 3.3Z" fill="#718096"></path>\n    </svg>',n.addEventListener("click",e);var i=document.createElement("div");i.classList.add("cslp-tooltip-child"),i.setAttribute("data-title","Go to link"),i.innerHTML=' <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <path d="M2.66654 2.66758H13.3332V13.3342H6.66654V16.0009H13.3332C14.0405 16.0009 14.7187 15.72 15.2188 15.2199C15.7189 14.7198 15.9999 14.0415 15.9999 13.3342V2.66758C15.9999 1.96034 15.7189 1.28206 15.2188 0.781964C14.7187 0.281867 14.0405 0.000915527 13.3332 0.000915527H2.66654C1.9593 0.000915527 1.28102 0.281867 0.780927 0.781964C0.280829 1.28206 -0.00012207 1.96034 -0.00012207 2.66758V9.33425H2.66654V2.66758Z" fill="#718096" />\n      <path d="M6.94263 7.05734L0.999958 13L2.88529 14.8853L8.82796 8.94267L10.8853 11V5.00001H4.88529L6.94263 7.05734Z" fill="#718096" />\n    </svg>',i.addEventListener("click",t);var o=document.createDocumentFragment();o.appendChild(n),o.appendChild(i);var l=document.createElement("div");return l.appendChild(o),l.classList.add("multiple"),l}},function(e,t,n){"use strict";n.r(t);var i;var o="undefined"==typeof document?void 0:document,l=!!o&&"content"in o.createElement("template"),r=!!o&&o.createRange&&"createContextualFragment"in o.createRange();function a(e){return e=e.trim(),l?function(e){var t=o.createElement("template");return t.innerHTML=e,t.content.childNodes[0]}(e):r?function(e){return i||(i=o.createRange()).selectNode(o.body),i.createContextualFragment(e).childNodes[0]}(e):function(e){var t=o.createElement("body");return t.innerHTML=e,t.childNodes[0]}(e)}function d(e,t){var n,i,o=e.nodeName,l=t.nodeName;return o===l||(n=o.charCodeAt(0),i=l.charCodeAt(0),n<=90&&i>=97?o===l.toUpperCase():i<=90&&n>=97&&l===o.toUpperCase())}function s(e,t,n){e[n]!==t[n]&&(e[n]=t[n],e[n]?e.setAttribute(n,""):e.removeAttribute(n))}var c={OPTION:function(e,t){var n=e.parentNode;if(n){var i=n.nodeName.toUpperCase();"OPTGROUP"===i&&(i=(n=n.parentNode)&&n.nodeName.toUpperCase()),"SELECT"!==i||n.hasAttribute("multiple")||(e.hasAttribute("selected")&&!t.selected&&(e.setAttribute("selected","selected"),e.removeAttribute("selected")),n.selectedIndex=-1)}s(e,t,"selected")},INPUT:function(e,t){s(e,t,"checked"),s(e,t,"disabled"),e.value!==t.value&&(e.value=t.value),t.hasAttribute("value")||e.removeAttribute("value")},TEXTAREA:function(e,t){var n=t.value;e.value!==n&&(e.value=n);var i=e.firstChild;if(i){var o=i.nodeValue;if(o==n||!n&&o==e.placeholder)return;i.nodeValue=n}},SELECT:function(e,t){if(!t.hasAttribute("multiple")){for(var n,i,o=-1,l=0,r=e.firstChild;r;)if("OPTGROUP"===(i=r.nodeName&&r.nodeName.toUpperCase()))r=(n=r).firstChild;else{if("OPTION"===i){if(r.hasAttribute("selected")){o=l;break}l++}!(r=r.nextSibling)&&n&&(r=n.nextSibling,n=null)}e.selectedIndex=o}}};function u(){}function p(e){if(e)return e.getAttribute&&e.getAttribute("id")||e.id}var f=function(e){return function(t,n,i){if(i||(i={}),"string"==typeof n)if("#document"===t.nodeName||"HTML"===t.nodeName||"BODY"===t.nodeName){var l=n;(n=o.createElement("html")).innerHTML=l}else n=a(n);var r=i.getNodeKey||p,s=i.onBeforeNodeAdded||u,f=i.onNodeAdded||u,v=i.onBeforeElUpdated||u,h=i.onElUpdated||u,m=i.onBeforeNodeDiscarded||u,g=i.onNodeDiscarded||u,w=i.onBeforeElChildrenUpdated||u,C=!0===i.childrenOnly,b=Object.create(null),y=[];function P(e){y.push(e)}function k(e,t,n){!1!==m(e)&&(t&&t.removeChild(e),g(e),function e(t,n){if(1===t.nodeType)for(var i=t.firstChild;i;){var o=void 0;n&&(o=r(i))?P(o):(g(i),i.firstChild&&e(i,n)),i=i.nextSibling}}(e,n))}function L(e){f(e);for(var t=e.firstChild;t;){var n=t.nextSibling,i=r(t);if(i){var o=b[i];o&&d(t,o)?(t.parentNode.replaceChild(o,t),E(o,t)):L(t)}else L(t);t=n}}function E(t,n,i){var l=r(n);if(l&&delete b[l],!i){if(!1===v(t,n))return;if(e(t,n),h(t),!1===w(t,n))return}"TEXTAREA"!==t.nodeName?function(e,t){var n,i,l,a,u,p=t.firstChild,f=e.firstChild;e:for(;p;){for(a=p.nextSibling,n=r(p);f;){if(l=f.nextSibling,p.isSameNode&&p.isSameNode(f)){p=a,f=l;continue e}i=r(f);var v=f.nodeType,h=void 0;if(v===p.nodeType&&(1===v?(n?n!==i&&((u=b[n])?l===u?h=!1:(e.insertBefore(u,f),i?P(i):k(f,e,!0),f=u):h=!1):i&&(h=!1),(h=!1!==h&&d(f,p))&&E(f,p)):3!==v&&8!=v||(h=!0,f.nodeValue!==p.nodeValue&&(f.nodeValue=p.nodeValue))),h){p=a,f=l;continue e}i?P(i):k(f,e,!0),f=l}if(n&&(u=b[n])&&d(u,p))e.appendChild(u),E(u,p);else{var m=s(p);!1!==m&&(m&&(p=m),p.actualize&&(p=p.actualize(e.ownerDocument||o)),e.appendChild(p),L(p))}p=a,f=l}!function(e,t,n){for(;t;){var i=t.nextSibling;(n=r(t))?P(n):k(t,e,!0),t=i}}(e,f,i);var g=c[e.nodeName];g&&g(e,t)}(t,n):c.TEXTAREA(t,n)}!function e(t){if(1===t.nodeType||11===t.nodeType)for(var n=t.firstChild;n;){var i=r(n);i&&(b[i]=n),e(n),n=n.nextSibling}}(t);var _,T,O=t,S=O.nodeType,U=n.nodeType;if(!C)if(1===S)1===U?d(t,n)||(g(t),O=function(e,t){for(var n=e.firstChild;n;){var i=n.nextSibling;t.appendChild(n),n=i}return t}(t,(_=n.nodeName,(T=n.namespaceURI)&&"http://www.w3.org/1999/xhtml"!==T?o.createElementNS(T,_):o.createElement(_)))):O=n;else if(3===S||8===S){if(U===S)return O.nodeValue!==n.nodeValue&&(O.nodeValue=n.nodeValue),O;O=n}if(O===n)g(t);else{if(n.isSameNode&&n.isSameNode(O))return;if(E(O,n,C),y)for(var A=0,N=y.length;A<N;A++){var x=b[y[A]];x&&k(x,x.parentNode,!1)}}return!C&&O!==t&&t.parentNode&&(O.actualize&&(O=O.actualize(t.ownerDocument||o)),t.parentNode.replaceChild(O,t)),O}}((function(e,t){var n,i,o,l,r=t.attributes;if(11!==t.nodeType&&11!==e.nodeType){for(var a=r.length-1;a>=0;a--)i=(n=r[a]).name,o=n.namespaceURI,l=n.value,o?(i=n.localName||i,e.getAttributeNS(o,i)!==l&&("xmlns"===n.prefix&&(i=n.name),e.setAttributeNS(o,i,l))):e.getAttribute(i)!==l&&e.setAttribute(i,l);for(var d=e.attributes,s=d.length-1;s>=0;s--)i=(n=d[s]).name,(o=n.namespaceURI)?(i=n.localName||i,t.hasAttributeNS(o,i)||e.removeAttributeNS(o,i)):t.hasAttribute(i)||e.removeAttribute(i)}}));t.default=f},function(e,t,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.handleUserConfig=t.handleInitData=void 0;var o=function(e,t){var n,i,o;if(e.clientUrlParams.host=null!==(n=t.host)&&void 0!==n?n:e.clientUrlParams.host,e.clientUrlParams.protocol=null!==(i=t.protocol)&&void 0!==i?i:e.clientUrlParams.protocol,e.clientUrlParams.port=null!==(o=t.port)&&void 0!==o?o:e.clientUrlParams.port,void 0!==t.protocol&&void 0===t.port)switch(t.protocol){case"http":e.clientUrlParams.port=80;break;case"https":e.clientUrlParams.port=443}var l=e.clientUrlParams.host;l.endsWith("/")&&(l=l.slice(0,-1)),e.clientUrlParams.url=e.clientUrlParams.protocol+"://"+e.clientUrlParams.host+":"+e.clientUrlParams.port};t.handleInitData=function(e,t){var n,l,r,a,d,s,c,u,p,f,v,h,m,g,w,C,b,y,P,k,L,E,_,T,O,S,U;if(e.hasOwnProperty("cachePolicy")){var A=(null===(n=null==e?void 0:e.config)||void 0===n?void 0:n.live_preview)||{};if(t.shouldReload=!1,t.enable=null!==(l=A.enable)&&void 0!==l?l:t.enable,t.cleanCslpOnProduction=null!==(r=A.cleanCslpOnProduction)&&void 0!==r?r:t.cleanCslpOnProduction,t.stackSdk=e,!e.hasOwnProperty("headers"))throw new Error("Please add Api key to continue");if(!e.headers.hasOwnProperty("api_key"))throw new Error("Please add the stack API key for live preview");t.stackDetails.apiKey=e.headers.api_key,e.hasOwnProperty("environment")&&(t.stackDetails.environment=e.environment),o(t,null!==(a=A.clientUrlParams)&&void 0!==a?a:t.clientUrlParams)}else{var N=e.stackSdk||t.stackSdk;if(t.enable=null!==(u=null!==(d=e.enable)&&void 0!==d?d:null===(c=null===(s=N.config)||void 0===s?void 0:s.live_preview)||void 0===c?void 0:c.enable)&&void 0!==u?u:t.enable,t.shouldReload=null!==(h=null!==(p=e.shouldReload)&&void 0!==p?p:null===(v=null===(f=N.config)||void 0===f?void 0:f.live_preview)||void 0===v?void 0:v.shouldReload)&&void 0!==h&&h,t.stackSdk=i(i({},t.stackSdk),N),t.cleanCslpOnProduction=null!==(C=null!==(m=e.cleanCslpOnProduction)&&void 0!==m?m:null===(w=null===(g=N.config)||void 0===g?void 0:g.live_preview)||void 0===w?void 0:w.cleanCslpOnProduction)&&void 0!==C?C:t.cleanCslpOnProduction,t.stackDetails.apiKey=null!==(k=null!==(y=null===(b=e.stackDetails)||void 0===b?void 0:b.apiKey)&&void 0!==y?y:null===(P=N.headers)||void 0===P?void 0:P.api_key)&&void 0!==k?k:t.stackDetails.apiKey,!t.stackDetails.apiKey)throw new Error("Please add the stack API key for live preview");t.stackDetails.environment=null!==(_=null!==(E=null===(L=e.stackDetails)||void 0===L?void 0:L.environment)&&void 0!==E?E:N.environment)&&void 0!==_?_:t.stackDetails.environment,o(t,null!==(U=null!==(T=e.clientUrlParams)&&void 0!==T?T:null===(S=null===(O=N.config)||void 0===O?void 0:O.live_preview)||void 0===S?void 0:S.clientUrlParams)&&void 0!==U?U:t.clientUrlParams)}return JSON.parse(JSON.stringify(t))},t.handleUserConfig={clientUrlParams:o}}])}));
//# sourceMappingURL=index.js.map